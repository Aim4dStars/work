!function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={exports:{},id:o,loaded:!1};return e[o].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=t(1),r=n(o),a={envParamUrl:"../../public/bootstrap/parameters.js",cloudBaseUrl:"https://d3jjhqujexdxuf.cloudfront.net",cloudSettingsFilePath:"nw-settings.json",setVersionParam:/setVerNw=([a-z0-9\-\.\/]+)/i};new r["default"](window,a).init()},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=t(2),i=n(a),l=function(){},s={dev1:"AD-AAB-AAD-JYB",dev2:"AD-AAB-AAD-JYM",sit1:"AD-AAB-AAD-JWH",uat1:"AD-AAB-AAD-JYU",uat2:"AD-AAB-AAD-JYV",svp:"AD-AAB-AAD-JWR",prod:"AD-AAB-AAD-JYK"},c=function(){function e(t,n){o(this,e),this.$win=t,this.$doc=t.document,this.config=n}return r(e,[{key:"init",value:function(){var e=this,t=(new Date).getTime();i["default"].info("Load bootstrap parameters from S3",this.config);var n=this.config.envParamUrl+"?ts="+t;this.ajaxGet(n,function(n){var o=[];o.push(e.config.cloudBaseUrl);var r=e.$win.location.href.match(/setEnv=([a-z0-9]+)/i);r&&r.length>=2?(o.push(r[1]),e.$win["adrum-app-key"]=s[r[1]]):(o.push(n.formalEnvironmentName),e.$win["adrum-app-key"]=s[n.formalEnvironmentName]),o.push(e.config.cloudSettingsFilePath);var a=o.join("/");e.ajaxGet(a+"?ts="+t,function(t){var n=e.$win.location.href.match(e.config.setVersionParam);t.path&&n&&n.length>=2&&(t.path=decodeURIComponent(n[1])),e.$win.AWS_BASE_URL=e.joinPathParts([e.config.cloudBaseUrl,t.path]),e.loadStyleSheets(e.config.cloudBaseUrl,t),e.loadScripts(e.config.cloudBaseUrl,t)})})}},{key:"showGeneralError",value:function(){var e='<div class="response-message alert  message-alert-dynamic" role="alert" style="margin-top: 20px">\n                        <span class="icon-container-outer">\n                          <span class="icon-container default">\n                              <span class="icon icon-notification-fail" aria-hidden="true"></span>\n                          </span>\n                        </span>\n                        <span class="message"><p>We seem to be having some technical difficulties. Please reload this page or try again later.</p></span>\n                      </div>',t=this.$win.document.getElementsByClassName("loading-message")[0];t?t.innerHTML=e:this.$win.alert(e)}},{key:"ajaxGet",value:function(e){var t=this,n=arguments.length<=1||void 0===arguments[1]?l:arguments[1],o=arguments.length<=2||void 0===arguments[2]?function(){t.showGeneralError()}:arguments[2],r=new this.$win.XMLHttpRequest;r.open("GET",e,!0),r.onload=function(){if(r.status>=200&&r.status<400){var e=void 0;try{e=JSON.parse(r.responseText)}catch(t){if(e=r.responseText.match(/\{.+\}/),!e)throw new Error("Could not parse response: "+r.responseText);e=JSON.parse(e)}n(e)}else o()},r.onerror=o,r.send()}},{key:"loadScript",value:function(e){var t=this,n=arguments.length<=1||void 0===arguments[1]?l:arguments[1];i["default"].info("Load script from URL:",e);var o=this.$doc.createElement("script");o.src=e,o.async=!1,o.onerror=function(){return t.showGeneralError()};var r=!1;o.onreadystatechange=o.onload=function(){var e=o.readyState;r||e&&!/loaded|complete/.test(e)||(r=!0,n())},this.$doc.body.appendChild(o)}},{key:"buildPath",value:function(e,t,n,o){var r=[];return n&&r.push(n),o.path&&r.push(o.path),r.push(""+e+t),this.joinPathParts(r)}},{key:"joinPathParts",value:function(e){return e.map(function(e,t){return 0===t?e.replace(/\/+$/,""):e.replace(/^\/+|\/+$/g,"")}).join("/")}},{key:"loadStyleSheet",value:function(e){i["default"].info("Load style from URL:",e);var t=this.$doc.createElement("link");t.rel="stylesheet",t.href=e,this.$doc.getElementsByTagName("head")[0].appendChild(t)}},{key:"loadStyleSheets",value:function(){var e=this,t=arguments.length<=0||void 0===arguments[0]?"":arguments[0],n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];n.styles&&n.styles.forEach(function(o){return e.loadStyleSheet(e.buildPath(o,".css",t,n))})}},{key:"loadScripts",value:function(){var e=this,t=arguments.length<=0||void 0===arguments[0]?"":arguments[0],n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];n.scripts&&n.scripts.forEach(function(o){return e.loadScript(e.buildPath(o,".js",t,n))})}}]),e}();exports["default"]=c},function(e,exports,t){var n,o;!function(r,a){"use strict";"object"==typeof e&&e.exports?e.exports=a():(n=a,o="function"==typeof n?n.call(exports,t,exports,e):n,!(void 0!==o&&(e.exports=o)))}(this,function(){"use strict";function e(e){return typeof console!==l&&(void 0!==console[e]?t(console,e):void 0!==console.log?t(console,"log"):i)}function t(e,t){var n=e[t];if("function"==typeof n.bind)return n.bind(e);try{return Function.prototype.bind.call(n,e)}catch(o){return function(){return Function.prototype.apply.apply(n,[e,arguments])}}}function n(e,t,n){return function(){typeof console!==l&&(o.call(this,t,n),this[e].apply(this,arguments))}}function o(e,t){for(var n=0;n<s.length;n++){var o=s[n];this[o]=n<e?i:this.methodFactory(o,e,t)}}function r(t,o,r){return e(t)||n.apply(this,arguments)}function a(e,t,n){function a(e){var t=(s[e]||"silent").toUpperCase();try{return void(window.localStorage[f]=t)}catch(n){}try{window.document.cookie=encodeURIComponent(f)+"="+t+";"}catch(n){}}function i(){var e;try{e=window.localStorage[f]}catch(t){}if(typeof e===l)try{var n=window.document.cookie,o=n.indexOf(encodeURIComponent(f)+"=");o&&(e=/^([^;]+)/.exec(n.slice(o))[1])}catch(t){}return void 0===u.levels[e]&&(e=void 0),e}var c,u=this,f="loglevel";e&&(f+=":"+e),u.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},u.methodFactory=n||r,u.getLevel=function(){return c},u.setLevel=function(t,n){if("string"==typeof t&&void 0!==u.levels[t.toUpperCase()]&&(t=u.levels[t.toUpperCase()]),!("number"==typeof t&&t>=0&&t<=u.levels.SILENT))throw"log.setLevel() called with invalid level: "+t;if(c=t,n!==!1&&a(t),o.call(u,t,e),typeof console===l&&t<u.levels.SILENT)return"No console available for logging"},u.setDefaultLevel=function(e){i()||u.setLevel(e,!1)},u.enableAll=function(e){u.setLevel(u.levels.TRACE,e)},u.disableAll=function(e){u.setLevel(u.levels.SILENT,e)};var d=i();null==d&&(d=null==t?"WARN":t),u.setLevel(d,!1)}var i=function(){},l="undefined",s=["trace","debug","info","warn","error"],c=new a,u={};c.getLogger=function(e){if("string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=u[e];return t||(t=u[e]=new a(e,c.getLevel(),c.methodFactory)),t};var f=typeof window!==l?window.log:void 0;return c.noConflict=function(){return typeof window!==l&&window.log===c&&(window.log=f),c},c})}]);
